<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Future School</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body class="bg-gray-50 text-gray-800">

<div class="profile-icon">
  <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Profile" />
</div>

<!-- Hero Section -->
<section class="text-center py-20 px-6 bg-white shadow-md">
  <h1 class="text-4xl font-bold mb-4">Find Your Perfect School</h1>
  <p class="text-lg mb-6">Tell us your preferences and we'll match you with the best fit</p>

  <div class="max-w-xl mx-auto flex flex-col gap-4">
    <textarea id="preferences" class="p-3 rounded-lg border border-gray-300" placeholder="Enter your preferences (e.g., curriculum, budget, location)"></textarea>
    <button onclick="getRecommendation()" class="bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
      Find Best Match
    </button>

    <!-- Recommendation Card -->
    <div id="recommendationCard" class="hidden bg-gray-100 p-6 rounded-lg shadow-md mt-4 text-left">
      <h2 class="text-2xl font-semibold mb-2">Recommended School</h2>
      <p id="result" class="text-lg text-gray-700"></p>
    </div>
  </div>
</section>

<footer class="footer">
  <a href="index.html">
    <i class="fas fa-home"></i>
    Home
  </a>
  <a href="schools.html">
    <i class="fas fa-school"></i>
    Schools
  </a>
  <a href="compare.html">
    <i class="fas fa-balance-scale"></i>
    Compare
  </a>
  <a href="match.html">
    <i class="fas fa-magic"></i>
    Match
  </a>
  <a href="contact.html">
    <i class="fas fa-envelope"></i>
    Contact
  </a>
</footer>

<script>
async function getRecommendation() {
  const prefs = document.getElementById("preferences").value;
  
  const response = await fetch("http://localhost:5000/recommend", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ userPreferences: prefs })
  });
  
  const data = await response.json();
  
  document.getElementById("result").innerText = data.recommendation;
  document.getElementById("recommendationCard").classList.remove("hidden");
}
</script>

</body>
</html>
